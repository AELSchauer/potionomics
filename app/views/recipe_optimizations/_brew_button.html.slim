- if params["tab"] == "ready_to_brew" || params["tab"] == "all_recipes" && recipe_optimization.ready_to_brew?
  = button_to cupboard_brew_recipe_path(cupboard_id: @current_cupboard.id, id: recipe_optimization.recipe_id, tab: params[:tab], sort: params[:sort]), method: :update, form_class: "h-5", class: "h-5" do
    span[class="popover inline-block" data-controller="popover" data-popover-translate-x="-30%" data-popover-translate-y="0%" data-action="mouseover->popover#mouseOver mouseout->popover#mouseOut"]
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5"><g id="SVGRepo_bgCarrier" stroke-width="0"><path transform="translate(-2.4, -2.4), scale(0.8999999999999999)" d="M16,29.414562326338554C18.807909142543423,29.69761775482198,21.858314584605022,30.333294260701347,24.2777281319827,28.880396392598342C26.712167011685537,27.418475563816944,27.760416769405317,24.478394039029467,28.688750034063553,21.794757976080042C29.55119086783928,19.301604480677945,29.801908658631618,16.680683309249545,29.39981994981442,14.073396747775876C29.00074715776881,11.4856664660401,27.890465119588104,9.140220783818393,26.404715372488827,6.984262808031801C24.770029635511015,4.612185168831365,23.172400943217497,1.7977864047479954,20.400233995178667,1.0141792344933478C17.63177913628913,0.23162135879005097,14.732016285762072,1.64948222435101,12.171384690661734,2.9609336983706314C9.933810716134856,4.1069281837687655,8.405007692220567,6.092461072834166,6.764829682784381,7.99767936725738C5.130189651516319,9.896464788383108,3.447141605451928,11.714529401572094,2.6042979812848266,14.07398881688411C1.6210705933932141,16.826439035684803,0.32143409418860136,19.947040574327687,1.548718623909764,22.599679069559038C2.775824188842946,25.25193075238105,6.086346147213266,26.066566392495208,8.729551022634945,27.31303943394827C11.058429525354954,28.411283575918898,13.438141066748967,29.15631035262668,16,29.414562326338554" fill="#f3e8ff" strokewidth="0"></path></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M3 10H21M9 3L9.00707 3.00707M19 10V13C19 16.866 15.866 20 12 20C8.13401 20 5 16.866 5 13V10M6 16.6076V21M18 16.6076V21M15 6C15 6.55228 14.5523 7 14 7C13.4477 7 13 6.55228 13 6C13 5.44772 13.4477 5 14 5C14.5523 5 15 5.44772 15 6Z" stroke="#7e22ce" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
      / <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M3 10H21M9 3L9.00707 3.00707M19 10V13C19 16.866 15.866 20 12 20C8.13401 20 5 16.866 5 13V10M6 16.6076V21M18 16.6076V21M15 6C15 6.55228 14.5523 7 14 7C13.4477 7 13 6.55228 13 6C13 5.44772 13.4477 5 14 5C14.5523 5 15 5.44772 15 6Z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
      div[class="content hidden absolute max-w-xs bg-gray-300 rounded p-2" data-popover-target="content"]
        | Brew!
- else
  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="h-5"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M3 10H21M9 3L9.00707 3.00707M19 10V13C19 16.866 15.866 20 12 20C8.13401 20 5 16.866 5 13V10M6 16.6076V21M18 16.6076V21M15 6C15 6.55228 14.5523 7 14 7C13.4477 7 13 6.55228 13 6C13 5.44772 13.4477 5 14 5C14.5523 5 15 5.44772 15 6Z" stroke="#a1a1aa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
